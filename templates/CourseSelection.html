<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>選課系統</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='course.css') }}">
</head>

<body>
    <h1>選課系統</h1>
    <!-- 加選表單 -->
    <h2>加選課程</h2>
    <!-- 顯示系所課程 -->
    <form id="selectForm" action="/get_courses" method="POST">
        <label for="course">選擇系所：</label>
        <select id="course" name="course">
            <!--內容先少少的-->
            <option value="course1">資訊工程學系</option>
            <option value="course2">電機工程學系</option>
        </select>
        <button type="button" id="submitButton">選擇</button>
    </form>
    <!-- 顯示課程表格 -->
    <div id="dataDisplay"></div>
    
    <!-- 退選表單 -->
    <h2>已選課程</h2>
    <ul id="selected-courses">
        <!-- 顯示已選擇的課程 -->
        <table>
            <tr>
                <th></th>
                <th>一</th>
                <th>二</th>
                <th>三</th>
                <th>四</th>
                <th>五</th>
            </tr>
            <tr>
                <th>1</th>
                <td>1-1</td>
                <td>1-2</td>
                <td>1-3</td>
                <td>1-4</td>
                <td>1-5</td>
            </tr>
            <tr>
                <th>2</th>
                <td>2-1</td>
                <td>2-2</td>
                <td>2-3</td>
                <td>2-4</td>
                <td>2-5</td>
            </tr>
            <tr>
                <th>3</th>
                <td>3-1</td>
                <td>3-2</td>
                <td>3-3</td>
                <td>3-4</td>
                <td>3-5</td>
            </tr>
            <tr>
                <th>4</th>
                <td>4-1</td>
                <td>4-2</td>
                <td>4-3</td>
                <td>4-4</td>
                <td>4-5</td>
            </tr>
            <tr>
                <th>5</th>
                <td>5-1</td>
                <td>5-2</td>
                <td>5-3</td>
                <td>5-4</td>
                <td>5-5</td>
            </tr>
            <tr>
                <th>6</th>
                <td>6-1</td>
                <td>6-2</td>
                <td>6-3</td>
                <td>6-4</td>
                <td>6-5</td>
            </tr>
            <tr>
                <th>7</th>
                <td>7-1</td>
                <td>7-2</td>
                <td>7-3</td>
                <td>7-4</td>
                <td>7-5</td>
            </tr>
            <tr>
                <th>8</th>
                <td>8-1</td>
                <td>8-2</td>
                <td>8-3</td>
                <td>8-4</td>
                <td>8-5</td>
            </tr>

            </tr>
        </table>
    </ul>
    <form action="#" method="POST">
        <label for="selected-course">選擇要退選的課程：</label>
        <select id="selected-course" name="selected-course">
            <!-- 這裡將動態添加已選擇的課程選項 -->
        </select>
        <button type="submit">退選</button>
    </form>

        <script>
        $(document).ready(function() {
            $("#submitButton").click(function(event) {
                event.preventDefault();  
        
                $.ajax({
                    url: '/get_courses',
                    type: 'POST',
                    data: $('#selectForm').serialize(), 
                    success: function(response) {
                        var courses = response; 
                        var html = '<table><tr><th>課程名稱</th><th>學分</th></tr>';
                        for (var i = 0; i < courses.length; i++) {
                            html += '<tr><td>' + courses[i].title + '</td><td>' + courses[i].credits + '</td></tr>';
                        }
                        html += '</table>';
                        $('#dataDisplay').html(html);
                    }
                });
            });
        });
        </script>
</body>